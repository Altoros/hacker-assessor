<!DOCTYPE html>
<html lang="en" ng-app='catalogo'>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="viewport"
        content="width=device-width,
                 initial-scale=1,
                 maximum-scale=1,
                 user-scalable=no">
  <title>PDCP1</title>
  <!-- bower:css -->
  <link rel="stylesheet" href="vendor/bootstrap/dist/css/bootstrap.css">
  <!-- endinject -->
  <style>
    .stick-to-top {
      top: 0;
      position: fixed;
      width: 100%;
      background-color: white;
      z-index: 1;
    }

    .stick-to-bottom {
      bottom: 0;
      position: fixed;
      width: 100%;
      background-color: white;
    }

    body {
      padding: 150px 0 380px 0;
    }
  </style>
</head>
<body>
  <div class='container-fluid stick-to-top'>
    <div class="row">
      <div class="col-xs-12">
        <h1 class='text-center'>Categorias</h1>
      </div>
    </div>
    <br/>
    <div class="row">
      <div class="col-xs-12">
        <div class="input-group">
          <span class="input-group-addon">
            <span class="glyphicon glyphicon-search" aria-hidden="true"></span>
          </span>
          <input type="text"
                 class="form-control"
                 placeholder="Hace una búsqueda!"
                 ng-model='busqueda'>
        </div>
      </div>
    </div>
    <br/>
  </div>
  <div class='container-fluid' ng-controller="CatalogoCtrl">
    <div class="row">
      <div class="col-xs-12">
        <accordion close-others="true">
          <accordion-group heading="{{category.name}}"
                           ng-repeat="category in categories">
            <ul class="list-group">
              <li class="list-group-item"
                  ng-repeat="skill in skills | filter:busqueda"
                  ng-if="category.id === skill.category_id"
                  ng-click='loadForm(skill.id,skill.name)'>{{skill.name}}</li>
            </ul>
          </accordion-group>
        </accordion>
      </div>
    </div>
    <div class='row stick-to-bottom'>
      <div class=col-xs-12>
        <form role="form" ng-show='isVisible'>
          <button type="button"
                  class="close pull-right" ng-click='closeForm()'>
            <span aria-hidden="true">&times;</span>
            <span class="sr-only">Close</span>
          </button>
          <h2><small>{{skillName}}</small></h2>
          <div class="form-group">
            <label for="nivel">Nivel de experiencia</label>
            <select id='nivel' class="form-control">
              <option value='1'>No tengo conocimiento</option>
              <option value='2'>Tengo conocimiento pero no lo he utilizado</option>
              <option value='3'>Tengo conocimiento y experiencia</option>
            </select>
          </div>
          <div class="form-group">
            <label for="experiencia">Experiencia en años</label>
            <input id='experiencia'
                   class="form-control"
                   placeholder="0">
          </div>
          <div class="form-group">
            <label for="comentario">Comentario</label>
            <textarea id='comentario'
                      class="form-control"
                      rows="3"
                      style="resize:none;"
                      placeholder='Añade un comentario'></textarea>
          </div>
          <button id='guardar'
                  class="btn btn-primary btn-lg btn-block"
                  ng-click='saveExperience()'>Guardar</button>
        </form>
        <br/>
      </div> <!-- form -->
    </div>
  </div>
  <!-- bower:js -->
  <script src="vendor/angular/angular.js"></script>
  <script src="vendor/angular-bootstrap/ui-bootstrap-tpls.js"></script>
  <!-- endinject -->
  <script src="app.js"></script>
</body>
</html>
